---
import BaseLayout from "~/layouts/base-layout.astro";
import { getLangFromUrl, useTranslations } from "~/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const sections = [
  {
    title: t("features.software.title"),
    desc: t("features.software.desc"),
    items: [t("features.software.b1"), t("features.software.b2"), t("features.software.b3")],
  },
  {
    title: t("features.multidevice.title"),
    desc: t("features.multidevice.desc"),
    items: [
      t("features.multidevice.i1"),
      t("features.multidevice.i2"),
      t("features.multidevice.i3"),
      t("features.multidevice.i4"),
    ],
  },
  {
    title: t("features.modes.title"),
    desc: t("features.modes.desc"),
    items: [
      t("features.modes.i1"),
      t("features.modes.i2"),
      t("features.modes.i3"),
      t("features.modes.i4"),
    ],
  },
  {
    title: t("features.performance.title"),
    desc: t("features.performance.desc"),
    items: [
      t("features.performance.b1"),
      t("features.performance.b2"),
      t("features.performance.b3"),
    ],
  },
];
---

<BaseLayout
  title={t("features.title")}
  description={t("features.description")}
  lang={lang}
>
  <section class="hero-shell">
    <div class="hero-glow" aria-hidden="true"></div>

    <header class="space-y-6 text-center">
      <h1 class="sr-only">{t("features.heading")}</h1>
      <p class="gradient-text text-5xl font-extrabold tracking-tight sm:text-6xl" aria-hidden="true">
        {t("features.heading")}
      </p>
    </header>

    <section class="mt-12 space-y-6">
      <h2 class="sr-only">{t("features.highlights.title")}</h2>
      <div class="grid gap-6 md:grid-cols-3">
        <article class="glass-card">
          <p class="text-lg font-semibold">{t("common.highlights.easy.title")}</p>
          <p class="mt-2 text-sm text-offset">{t("common.highlights.easy.desc")}</p>
        </article>
        <article class="glass-card">
          <p class="text-lg font-semibold">{t("common.highlights.devices.title")}</p>
          <p class="mt-2 text-sm text-offset">{t("common.highlights.devices.desc")}</p>
        </article>
        <article class="glass-card">
          <p class="text-lg font-semibold">
            {t("common.highlights.lowResource.title")}
          </p>
          <p class="mt-2 text-sm text-offset">{t("common.highlights.lowResource.desc")}</p>
        </article>
      </div>
    </section>

    <section class="mt-12 grid gap-6">
      {
        sections.map(({ title, desc, items }) => (
          <article class="glass-card space-y-3">
            <h2 class="text-xl font-bold sm:text-2xl">{title}</h2>
            <p class="text-offset">{desc}</p>
            <ul class="list-disc space-y-2 pl-6 text-offset">
              {items.map((item) => (
                <li>{item}</li>
              ))}
            </ul>
          </article>
        ))
      }
    </section>
  </section>
</BaseLayout>


